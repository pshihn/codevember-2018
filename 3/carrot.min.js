var carrot=function(e){"use strict";function t(e){let t=w.get(e.type);void 0===t&&(t=new Map,w.set(e.type,t));let n=t.get(e.strings);return void 0===n&&(n=new g(e,e.getTemplateElement()),t.set(e.strings,n)),n}function n(e,t){const{element:{content:r},parts:n}=e,a=document.createTreeWalker(r,D,null,!1);let i=k(n),d=n[i],s=-1,o=0;const l=[];for(let r=null;a.nextNode();){s++;const e=a.currentNode;for(e.previousSibling===r&&(r=null),t.has(e)&&(l.push(e),null===r&&(r=e)),null!==r&&o++;void 0!==d&&d.index===s;)d.index=null===r?d.index-o:-1,i=k(n,i),d=n[i]}l.forEach(e=>e.parentNode.removeChild(e))}function r(e,t,n=null){const{element:{content:a},parts:r}=e;if(null===n||void 0===n)return void a.appendChild(t);const i=document.createTreeWalker(a,D,null,!1);let d=k(r),s=0,o=-1;for(;i.nextNode();){o++;const e=i.currentNode;for(e===n&&(s=U(t),n.parentNode.insertBefore(t,n));-1!==d&&r[d].index===o;){if(0<s){for(;-1!==d;)r[d].index+=s,d=k(r,d);return}d=k(r,d)}}}const a=new WeakMap,i=e=>"function"==typeof e&&a.has(e),d=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,s=(e,t,n=null)=>{for(let r=t;r!==n;){const t=r.nextSibling;e.removeChild(r),r=t}},o={},l=`{{lit-${(Math.random()+"").slice(2)}}}`,p=`<!--${l}-->`,u=new RegExp(`${l}|${p}`),c=(()=>{const e=document.createElement("div");return e.setAttribute("style","{{bad value}}"),"{{bad value}}"!==e.getAttribute("style")})();class g{constructor(e,t){this.parts=[],this.element=t;let n=-1,r=0;const a=[],i=t=>{const d=t.content,s=document.createTreeWalker(d,133,null,!1);let o,p;for(;s.nextNode();){n++,o=p;const t=p=s.currentNode;if(1===t.nodeType){if(t.hasAttributes()){const a=t.attributes;let d=0;for(let e=0;e<a.length;e++)0<=a[e].value.indexOf(l)&&d++;for(;0<d--;){const a=e.strings[r],i=h.exec(a)[2],d=c&&"style"===i?"style$":/^[a-zA-Z-]*$/.test(i)?i:i.toLowerCase(),s=t.getAttribute(d),o=s.split(u);this.parts.push({type:"attribute",index:n,name:i,strings:o}),t.removeAttribute(d),r+=o.length-1}}"TEMPLATE"===t.tagName&&i(t)}else if(3===t.nodeType){const e=t.nodeValue;if(0>e.indexOf(l))continue;const d=t.parentNode,s=e.split(u),o=s.length-1;r+=o;for(let e=0;e<o;e++)d.insertBefore(""===s[e]?f():document.createTextNode(s[e]),t),this.parts.push({type:"node",index:n++});d.insertBefore(""===s[o]?f():document.createTextNode(s[o]),t),a.push(t)}else if(8===t.nodeType)if(t.nodeValue===l){const e=t.parentNode,i=t.previousSibling;null===i||i!==o||i.nodeType!==Node.TEXT_NODE?e.insertBefore(f(),t):n--,this.parts.push({type:"node",index:n++}),a.push(t),null===t.nextSibling?e.insertBefore(f(),t):n--,p=o,r++}else for(let e=-1;-1!==(e=t.nodeValue.indexOf(l,e+1));)this.parts.push({type:"node",index:-1})}};i(t);for(const r of a)r.parentNode.removeChild(r)}}const m=e=>-1!==e.index,f=()=>document.createComment(""),h=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class _{constructor(e,t,n){this._parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this._parts)void 0!==n&&n.setValue(e[t]),t++;for(const t of this._parts)void 0!==t&&t.commit()}_clone(){const e=d?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=this.template.parts;let n=0,r=0;const a=e=>{const i=document.createTreeWalker(e,133,null,!1);for(let d=i.nextNode();n<t.length&&null!==d;){const e=t[n];if(!m(e))this._parts.push(void 0),n++;else if(r===e.index){if("node"===e.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(d),this._parts.push(e)}else this._parts.push(...this.processor.handleAttributeExpressions(d,e.name,e.strings,this.options));n++}else r++,"TEMPLATE"===d.nodeName&&a(d.content),d=i.nextNode()}};return a(e),d&&(document.adoptNode(e),customElements.upgrade(e)),e}}class v{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!0;for(let r=0;r<e;r++){const e=this.strings[r];t+=e;const a=e.lastIndexOf(">");n=(-1<a||n)&&-1===e.indexOf("<",a+1),!n&&c&&(t=t.replace(h,(e,t,n,r)=>"style"===n?`${t}style$${r}`:e)),t+=n?p:l}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const y=e=>null===e||"object"!=typeof e&&"function"!=typeof e;class b{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let r=0;r<n.length-1;r++)this.parts[r]=this._createPart()}_createPart(){return new S(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let r=0;r<t;r++){n+=e[r];const t=this.parts[r];if(void 0!==t){const e=t.value;if(null!=e&&(Array.isArray(e)||"string"!=typeof e&&e[Symbol.iterator]))for(const r of e)n+="string"==typeof r?r:r+"";else n+="string"==typeof e?e:e+""}}return n+=e[t],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===o||y(e)&&e===this.value||(this.value=e,!i(e)&&(this.committer.dirty=!0))}commit(){for(;i(this.value);){const e=this.value;this.value=o,e(this)}this.value===o||this.committer.commit()}}class P{constructor(e){this.value=void 0,this._pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(f()),this.endNode=e.appendChild(f())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e._insert(this.startNode=f()),e._insert(this.endNode=f())}insertAfterPart(e){e._insert(this.startNode=f()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this._pendingValue=e}commit(){for(;i(this._pendingValue);){const e=this._pendingValue;this._pendingValue=o,e(this)}const e=this._pendingValue;e===o||(y(e)?e!==this.value&&this._commitText(e):e instanceof v?this._commitTemplateResult(e):e instanceof Node?this._commitNode(e):Array.isArray(e)||e[Symbol.iterator]?this._commitIterable(e):void 0===e.then?this._commitText(e):this._commitPromise(e))}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_commitNode(e){this.value===e||(this.clear(),this._insert(e),this.value=e)}_commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._commitNode(document.createTextNode("string"==typeof e?e:e+"")),this.value=e}_commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value&&this.value.template===t)this.value.update(e.values);else{const n=new _(t,e.processor,this.options),r=n._clone();n.update(e.values),this._commitNode(r),this.value=n}}_commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const a of e)n=t[r],void 0===n&&(n=new P(this.options),t.push(n),0==r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(a),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}_commitPromise(e){this.value=e,e.then(t=>{this.value===e&&(this.setValue(t),this.commit())})}clear(e=this.startNode){s(this.startNode.parentNode,e.nextSibling,this.endNode)}}class N{constructor(e,t,n){if(this.value=void 0,this._pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this._pendingValue=e}commit(){for(;i(this._pendingValue);){const e=this._pendingValue;this._pendingValue=o,e(this)}if(this._pendingValue!==o){const e=!!this._pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=e,this._pendingValue=o}}}class x extends b{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new L(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class L extends S{}let E=!1;try{const e={get capture(){return E=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class T{constructor(e,t,n){this.value=void 0,this._pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n}setValue(e){this._pendingValue=e}commit(){for(;i(this._pendingValue);){const e=this._pendingValue;this._pendingValue=o,e(this)}if(this._pendingValue===o)return;const e=this._pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive);n&&this.element.removeEventListener(this.eventName,this,this._options),this._options=C(e),null!=e&&(null==t||n)&&this.element.addEventListener(this.eventName,this,this._options),this.value=e,this._pendingValue=o}handleEvent(e){const t="function"==typeof this.value?this.value:"function"==typeof this.value.handleEvent?this.value.handleEvent:()=>null;t.call(this.eventContext||this.element,e)}}const C=e=>e&&(E?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);const V=new class{handleAttributeExpressions(e,t,n,r){const a=t[0];if("."===a){const r=new x(e,t.slice(1),n);return r.parts}if("@"===a)return[new T(e,t.slice(1),r.eventContext)];if("?"===a)return[new N(e,t.slice(1),n)];const i=new b(e,t,n);return i.parts}handleTextExpression(e){return new P(e)}},w=new Map,O=new WeakMap,A=(e,n,r)=>{let a=O.get(n);void 0===a&&(s(n,n.firstChild),O.set(n,a=new P(Object.assign({templateFactory:t},r))),a.appendInto(n)),a.setValue(e),a.commit()},I=(e,...t)=>new v(e,t,"html",V),D=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,U=e=>{let t=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?0:1;for(const n=document.createTreeWalker(e,D,null,!1);n.nextNode();)t++;return t},k=(e,t=-1)=>{for(let n=t+1;n<e.length;n++){const t=e[n];if(m(t))return n}return-1},z=(e,t)=>`${e}--${t}`;let M=!0;"undefined"==typeof window.ShadyCSS?M=!1:"undefined"==typeof window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected.Please update to at least @webcomponents/webcomponentsjs@2.0.2 and@webcomponents/shadycss@1.3.1."),M=!1);const q=e=>t=>{const n=z(t.type,e);let r=w.get(n);void 0===r&&(r=new Map,w.set(n,r));let a=r.get(t.strings);if(void 0===a){const n=t.getTemplateElement();M&&window.ShadyCSS.prepareTemplateDom(n,e),a=new g(t,n),r.set(t.strings,a)}return a},R=["html","svg"],$=e=>{R.forEach(t=>{const r=w.get(z(t,e));void 0!==r&&r.forEach(e=>{const{element:{content:t}}=e,r=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{r.add(e)}),n(e,r)})})},W=new Set,F=(e,t,a)=>{W.add(a);const d=e.querySelectorAll("style");if(0!==d.length){const s=document.createElement("style");for(let e=0;e<d.length;e++){const t=d[e];t.parentNode.removeChild(t),s.textContent+=t.textContent}if($(a),r(t,s,t.element.content.firstChild),window.ShadyCSS.prepareTemplateStyles(t.element,a),window.ShadyCSS.nativeShadow){const n=t.element.content.querySelector("style");e.insertBefore(n.cloneNode(!0),e.firstChild)}else{t.element.content.insertBefore(s,t.element.content.firstChild);const e=new Set;e.add(s),n(t,e)}}},B=(e,t,n)=>{const r=n.scopeName,a=O.has(t);if(A(e,t,Object.assign({templateFactory:q(r)},n)),t instanceof ShadowRoot&&M&&e instanceof v){if(!W.has(r)){const e=O.get(t),n=e.value;F(t,n.template,r)}a||window.ShadyCSS.styleElement(t.host)}},H=e=>null!==e,j=e=>e?"":null,X=(e,t)=>t!==e&&(t===t||e===e),G={attribute:!0,type:String,reflect:!1,hasChanged:X},Q=new Promise(e=>e(!0)),J=1,Y=4,Z=8;class K extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=Q,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this._finalize();const e=[];for(const[t,n]of this._classProperties){const r=this._attributeNameForProperty(t,n);void 0!==r&&(this._attributeToPropertyMap.set(r,t),e.push(r))}return e}static createProperty(e,t=G){if(!this.hasOwnProperty("_classProperties")){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}if(this._classProperties.set(e,t),this.prototype.hasOwnProperty(e))return;const n="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[n]},set(r){const a=this[e];this[n]=r,this._requestPropertyUpdate(e,a,t)},configurable:!0,enumerable:!0})}static _finalize(){if(this.hasOwnProperty("_finalized")&&this._finalized)return;const e=Object.getPrototypeOf(this);"function"==typeof e._finalize&&e._finalize(),this._finalized=!0,this._attributeToPropertyMap=new Map;const t=this.properties,n=[...Object.getOwnPropertyNames(t),...("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[])];for(const e of n)this.createProperty(e,t[e])}static _attributeNameForProperty(e,t){const n=void 0!==t&&t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,n=X){return n(e,t)}static _propertyValueFromAttribute(e,t){const n=t&&t.type;if(void 0===n)return e;const r=n===Boolean?H:"function"==typeof n?n:n.fromAttribute;return r?r(e):e}static _propertyValueToAttribute(e,t){if(void 0!==t&&void 0!==t.reflect){const n=t.type===Boolean?j:t.type&&t.type.toAttribute||String;return n(e)}}initialize(){this.renderRoot=this.createRenderRoot(),this._saveInstanceProperties()}_saveInstanceProperties(){for(const[e]of this.constructor._classProperties)if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}}_applyInstanceProperties(){for(const[e,t]of this._instanceProperties)this[e]=t;this._instanceProperties=void 0}createRenderRoot(){return this.attachShadow({mode:"open"})}connectedCallback(){this._updateState&J?void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this):this.requestUpdate()}disconnectedCallback(){}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n)}_propertyToAttribute(e,t,n=G){const r=this.constructor,a=r._propertyValueToAttribute(t,n);if(void 0!==a){const t=r._attributeNameForProperty(e,n);void 0!==t&&(this._updateState|=Z,null===a?this.removeAttribute(t):this.setAttribute(t,a),this._updateState&=~Z)}}_attributeToProperty(e,t){if(!(this._updateState&Z)){const n=this.constructor,r=n._attributeToPropertyMap.get(e);if(void 0!==r){const e=n._classProperties.get(r);this[r]=n._propertyValueFromAttribute(t,e)}}}requestUpdate(e,t){if(void 0!==e){const n=this.constructor._classProperties.get(e)||G;return this._requestPropertyUpdate(e,t,n)}return this._invalidate()}_requestPropertyUpdate(e,t,n){return this.constructor._valueHasChanged(this[e],t,n.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0===n.reflect&&(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,n)),this._invalidate()):this.updateComplete}async _invalidate(){if(!this._hasRequestedUpdate){this._updateState|=Y;let e;const t=this._updatePromise;this._updatePromise=new Promise(t=>e=t),await t,this._validate(),e(!this._hasRequestedUpdate)}return this.updateComplete}get _hasRequestedUpdate(){return this._updateState&Y}_validate(){if(this._instanceProperties&&this._applyInstanceProperties(),this.shouldUpdate(this._changedProperties)){const e=this._changedProperties;this.update(e),this._markUpdated(),this._updateState&J||(this._updateState|=J,this.firstUpdated(e)),this.updated(e)}else this._markUpdated()}_markUpdated(){this._changedProperties=new Map,this._updateState&=~Y}get updateComplete(){return this._updatePromise}shouldUpdate(){return!0}update(){if(void 0!==this._reflectingProperties&&0<this._reflectingProperties.size){for(const[e,t]of this._reflectingProperties)this._propertyToAttribute(e,this[e],t);this._reflectingProperties=void 0}}updated(){}firstUpdated(){}}K._attributeToPropertyMap=new Map,K._finalized=!0,K._classProperties=new Map,K.properties={};class ee extends K{update(e){super.update(e);const t=this.render();t instanceof v&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this})}render(){}}ee.render=B;class te extends ee{static get properties(){return{label:String,hidePrefixLabel:String,browseLabel:String,accept:String}}constructor(){super(),this.label="Drop a file",this.hidePrefixLabel=!1,this.browseLabel="browse",this.file=null,this.dragOverListener=this.onDragOver.bind(this),this.dragLeaveListener=this.onDragLeave.bind(this),this.dragEndListener=this.onDragEnd.bind(this),this.dropListener=this.onDrop.bind(this)}render(){const e=(this.file&&this.file.name||this.label||"Drop a file")+" or ",t=this.hidePrefixLabel?"hidden":"inline";return I`
    <style>
      :host {
        display: block;
        width: 100%;
        min-height: 40px;
        box-sizing: border-box;
        padding: 5px;
        border: 2px dashed rgba(0, 0, 0, 0.4);
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
        color: #777;
        letter-spacing: 0.03em;
        overflow: hidden;
      }
    
      :host(.dragging) {
        background-color: var(--highlight-pink);
      }
    
      .inline {
        display: inline-block;
        vertical-align: middle;
      }
    
      .flex {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      }
    
      #nofile {
        text-align: center;
        word-break: break-word;
      }
    
      .fiContainer {
        display: inline-block;
        overflow: hidden;
        position: relative;
        cursor: pointer;
        color: var(--highlight-pink);
        border-bottom: 1px solid;
      }

      :host(.dragging) .fiContainer {
        color: inherit;
      }
    
      #fi {
        position: absolute;
        opacity: 0;
        top: 0;
        left: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
      }
    
      .hidden {
        display: none;
      }
    </style>
    <div class="flex"></div>
    <div id="nofile">
      <span id="prefixLabel" class="${t}">${e}</span>
      <div class="fiContainer inline">
        <label class="link">${this.browseLabel}</label>
        <input id="fi" type="file" accept="${this.accept}" title="Browse files" @change="${()=>this.fileChanged()}">
      </div>
    </div>
    <div id=""></div>
    <div class="flex"></div>
    `}connectedCallback(){super.connectedCallback(),this.attachDragListeners()}disconnectedCallback(){super.disconnectedCallback(),this.detachDragListeners()}attachDragListeners(){this.detachDragListeners(),this.addEventListener("dragover",this.dragOverListener),this.addEventListener("dragleave",this.dragLeaveListener),this.addEventListener("dragend",this.dragEndListener),this.addEventListener("drop",this.dropListener)}detachDragListeners(){this.removeEventListener("dragover",this.dragOverListener),this.removeEventListener("dragleave",this.dragLeaveListener),this.removeEventListener("dragend",this.dragEndListener),this.removeEventListener("drop",this.dropListener)}onDragOver(e){e.preventDefault(),this.classList.add("dragging")}onDragLeave(e){e.preventDefault(),this.classList.remove("dragging")}onDragEnd(e){this.classList.remove("dragging");const t=e.dataTransfer;if(t)if(t.items)for(let e=0;e<t.items.length;e++)t.items.remove(e);else e.dataTransfer.clearData()}onDrop(e){e.preventDefault(),this.classList.remove("dragging");const t=e.dataTransfer;t&&t.files&&t.files.length&&(this.file=t.files[0],this.requestUpdate(),this.fireEvent("files",{file:this.file}))}$(e){return this.shadowRoot.querySelector(`#${e}`)}fireEvent(e,t){if(e){const n={bubbles:!0,composed:!0};t&&(n.detail=t),this.dispatchEvent(new CustomEvent(e,n))}}fileChanged(){this.file=(this.$("fi").files||[])[0],this.requestUpdate(),this.fireEvent("files",{file:this.file})}clear(){this.$("fi").value=null,this.file=null,this.requestUpdate()}}customElements.define("file-picker",te);class ne extends ee{constructor(){super(),this.carrotSize=10}render(){return I`
    <style>
      :host {
        display: block;
      }
      #pickerSection {
        padding: 20px 16px;
        margin: 0 auto;
        max-width: 500px;
      }
      #filePicker {
        border-color: rgba(0,0,0, 0.9);
        height: 150px;
      }
      .subPanel {
        text-align: center;
        padding: 20px 0;
      }
      .hidden {
        display: none;
      }
      canvas {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
        opacity: 0;
      }
      #carrotCanvas {
        position: relative;
        margin: 40px auto;
        box-shadow: 0 3px 10px -3px rgba(0, 0, 0, 0.6);
      }
      button {
        cursor: pointer;
        outline: none;
        background: cadetblue;
        color: white;
        font-family: sans-serif;
        font-size: 15px;
        font-weight: 300;
        text-transform: uppercase;
        padding: 8px;
        letter-spacing: 0.05em;
        border: none;
        box-shadow: 0 1px 6px -1px rgba(0,0,0,0.6);
      }
      .carrot-item {
        position: absolute;
        display: block;
      }
    </style>
    <section id="canvasSection" class="hidden">
      <div id="carrotCanvas"></div>
      <canvas id="canvas"></canvas>
      <div>
        <button @click="${this.clearImage}">Try Another Image</button>
      </div>
    </section>
    <section id="pickerSection" class="hidden">
      <file-picker id="filePicker" @files="${t=>this.onFiles(t)}"></file-picker>
      <div class="subPanel">
        <div class="message">
          Select an image to render using carrots
        </div>
      </div>
    </section>
    `}firstUpdated(){this.renderImage("./monalisa.jpg")}$(e){return this.shadowRoot.querySelector(`#${e}`)}onFiles(t){const e=t.detail.file;0===e.type.indexOf("image/")&&this.loadImage(e)}loadImage(e){this.prevImageUrl&&URL.revokeObjectURL(this.prevImageUrl),this.prevImageUrl=URL.createObjectURL(e),this.renderImage(this.prevImageUrl)}renderImage(e){const t=new Image;t.onload=()=>{var e=Math.min;if(this.$("pickerSection").classList.add("hidden"),this.$("canvasSection").classList.remove("hidden"),t.width&&t.height){const n=this.$("canvas"),r=n.getContext("2d"),a=e(500,t.width,window.innerWidth-32),i=a*t.height/t.width;n.width=a/this.carrotSize,n.height=i/this.carrotSize,r.drawImage(t,0,0,n.width,n.height);const d=this.$("carrotCanvas");for(d.style.width=`${a}px`,d.style.height=`${i}px`;d.firstChild;)d.removeChild(d.firstChild);const s=r.getImageData(0,0,n.width,n.height).data;for(let e=0;e<n.height;e++)for(let t=0;t<n.width;t++){const r=4*(e*n.width)+4*t,a=.34*s[r]+.5*s[r+1]+.16*s[r+2],i=document.createElement("img");i.src="./carrot.png",i.classList.add("carrot-item"),i.style.top=`${e*this.carrotSize}px`,i.style.left=`${t*this.carrotSize}px`,i.style.width=`${this.carrotSize}px`,i.style.height=`${this.carrotSize}px`,i.style.opacity=1-a/255,d.appendChild(i)}}},t.src=e}clearImage(){this.$("pickerSection").classList.remove("hidden"),this.$("canvasSection").classList.add("hidden"),this.$("filePicker").clear()}}return customElements.define("carrot-app",ne),e.CarrotApp=ne,e}({});
